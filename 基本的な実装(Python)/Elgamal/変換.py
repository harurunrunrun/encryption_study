p=142282284370849912570755157394204324436151819483519736472506450277015504316442482302179809699487523684599695443823704505518649456607941635696764217139379994030733903992537187656778012130412386900614059558968181723449769746201162749723772776626562819525109211027308165765591038614679756134700779644992364964587
q=71141142185424956285377578697102162218075909741759868236253225138507752158221241151089904849743761842299847721911852252759324728303970817848382108569689997015366951996268593828389006065206193450307029779484090861724884873100581374861886388313281409762554605513654082882795519307339878067350389822496182482293
g=18975823582220682785993852932531386287495436262161294513590167289593267370356438398537208993434091045319278834737032652859606278917416498962717732710395691307744081603585840528342881011013680641549884113441794875506663788637433997099525153570862562610035270678141581938266029572392541284411362673338204862

xa=60146881192207670076952668647022768590865998363025897845983798192295047143799301148230753122431370211248559631574998617110062348457801874786501383558709754103045030738883085891363462273498873301748833818146708599472306521055377278175905630582455410772277877640108081543324910377775042572357245207907510372797
xb=68692523720346111759907288772193094723177791319775401561237764185008421829480174199223090038211748130903937813459123094318059240744570933433957888574124698611975407615190532229532080959686838135474089421655080136545235091699678796594350146697684830065782227241506708629990783477883729345464641763917016885775

c1=61082350006940723082698850888803271968814030082688132315607019008821056700687124555699395034347664887193403211388616879549747128434456992788265843308266574510294284792859608685670152437967769420459838279180580775687171918178985251260756498969124219954813350460888252128495729145532092278455186602463830608635
c2=973716361411258664010887394843408849168838056115756201201899445148357145319908993383150492482063534146311100365510230826535993421048996826078414463115202636131715775126646046787747717068477959052055280803887159817017039379735736779459380778625137941710585150064993416725010523918115944045133438604718224119989710419333340124400


def ext_gcd(a,b):
  if b>a:
    a,b=b,a
  a0,x0,y0=a,1,0
  a1,x1,y1=b,0,1
  while a1!=0:
    q=a0//a1
    a2,x2,y2=a0-q*a1,x0-q*x1,y0-q*y1
    a0,x0,y0=a1,x1,y1
    a1,x1,y1=a2,x2,y2
  return a0,x0,y0

def inv_mod(N,a):
  d,x,y=ext_gcd(N,a)
  return y

#z=(xa*inv_mod(q,xb))%q
z=(xa*pow(xb,q-2,q))%q
print(z)
d1=pow(c1,z,p)
print(d1)
#t=inv_mod(p,d1)
t=pow(d1,p-2,p)
print(t)
m=c2*pow(t,xb,p)%p
print(m)